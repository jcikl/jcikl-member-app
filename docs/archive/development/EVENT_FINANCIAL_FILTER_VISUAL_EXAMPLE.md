# 活动财务标签页筛选架构 - 可视化示例

## 🎯 当前架构 vs 目标架构对比

### 当前活动财务页面架构
```
┌─────────────────────────────────────────────────────────────────┐
│                    活动财务管理页面                              │
├─────────────────────────────────────────────────────────────────┤
│  📊 统计卡片 [活动收入] [活动支出] [净收益]                      │
├─────────────────────────────────────────────────────────────────┤
│  🔍 简单筛选区域                                                 │
│  [组织者筛选] [日期范围筛选] [近期活动] [即将举行]               │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │                    主内容区域                               │ │
│  │                                                             │ │
│  │  ┌─────────────────────────────────────────────────────┐   │ │
│  │  │  [活动列表标签页] [交易记录标签页]                   │   │ │
│  │  └─────────────────────────────────────────────────────┘   │ │
│  │                                                             │ │
│  │  ┌─────────────────────────────────────────────────────┐   │ │
│  │  │                 数据表格                             │   │ │
│  │  │                                                     │   │ │
│  │  │  [表格数据内容]                                     │   │ │
│  │  │                                                     │   │ │
│  │  └─────────────────────────────────────────────────────┘   │ │
│  └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

### 目标架构（参考会员费用页面）
```
┌─────────────────────────────────────────────────────────────────┐
│                    活动财务管理页面                              │
├─────────────────────────────────────────────────────────────────┤
│  📊 统计卡片 [活动收入] [活动支出] [净收益] [待处理]             │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────────┐  ┌─────────────────────────────────────┐   │
│  │   🎯 活动筛选   │  │         主体内容区域                │   │
│  │                 │  │                                     │   │
│  │ 📅 年份筛选     │  │  ┌─────────────────────────────────┐ │   │
│  │ [财年下拉]      │  │  │       标签页导航                │ │   │
│  │                 │  │  │ [活动列表] [交易记录]           │ │   │
│  │ 🏢 负责理事     │  │  └─────────────────────────────────┘ │   │
│  │ [理事下拉]      │  │                                     │   │
│  │                 │  │  ┌─────────────────────────────────┐ │   │
│  │ 📈 活动状态     │  │  │       数据表格区域              │ │   │
│  │ [状态筛选]      │  │  │                                 │ │   │
│  │                 │  │  │  [表格数据]                     │ │   │
│  │ 🎭 活动类型     │  │  │                                 │ │   │
│  │ [类型筛选]      │  │  │                                 │ │   │
│  │                 │  │  └─────────────────────────────────┘ │   │
│  │ 🏦 交易账户     │  │                                     │   │
│  │ [账户筛选]      │  │                                     │   │
│  │ (仅交易记录)    │  │                                     │   │
│  │                 │  │                                     │   │
│  │ 📊 财务状态     │  │                                     │   │
│  │ [盈亏筛选]      │  │                                     │   │
│  └─────────────────┘  └─────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```

## 📋 筛选器详细设计

### 1. 年份筛选器
```
┌─────────────────────────────────────┐
│ 📅 年份                            │
├─────────────────────────────────────┤
│ ┌─────────────────────────────────┐ │
│ │ 请选择年份              ▼      │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 选项：                              │
│ • 所有年份                          │
│ • 2025财年                          │
│ • 2024财年                          │
│ • 2023财年                          │
└─────────────────────────────────────┘
```

### 2. 负责理事筛选器
```
┌─────────────────────────────────────┐
│ 🏢 负责理事                        │
├─────────────────────────────────────┤
│ ┌─────────────────────────────────┐ │
│ │ 请选择负责理事          ▼      │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 选项：                              │
│ • 所有理事                          │
│ • 会长                              │
│ • 副会长                            │
│ • 秘书长                            │
│ • 财政                              │
│ • 理事                              │
└─────────────────────────────────────┘
```

### 3. 活动状态筛选器
```
┌─────────────────────────────────────┐
│ 📈 活动状态                        │
├─────────────────────────────────────┤
│ ┌─────────────────────────────────┐ │
│ │ 请选择状态              ▼      │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 选项：                              │
│ • 所有状态                          │
│ • 🔄 策划中                         │
│ • ✅ 进行中                         │
│ • ✅ 已完成                         │
│ • ❌ 已取消                         │
└─────────────────────────────────────┘
```

### 4. 活动类型筛选器
```
┌─────────────────────────────────────┐
│ 🎭 活动类型                        │
├─────────────────────────────────────┤
│ ┌─────────────────────────────────┐ │
│ │ 请选择类型              ▼      │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 选项：                              │
│ • 所有类型                          │
│ • 📚 培训活动                       │
│ • 🤝 联谊活动                       │
│ • 🏛️ 会议活动                       │
│ • 🎉 社交活动                       │
│ • ❤️ 慈善活动                       │
└─────────────────────────────────────┘
```

### 5. 交易账户筛选器（仅交易记录标签页显示）
```
┌─────────────────────────────────────┐
│ 🏦 交易账户                        │
├─────────────────────────────────────┤
│ ┌─────────────────────────────────┐ │
│ │ 请选择活动              ▼      │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 选项：                              │
│ • 所有活动                          │
│ • 未分类交易                        │
│ • 2025年交易                        │
│ • 2024年交易                        │
│ • 培训活动2025                      │
│ • 联谊活动2025                      │
│ • 会议活动2025                      │
└─────────────────────────────────────┘
```

### 6. 财务状态筛选器
```
┌─────────────────────────────────────┐
│ 📊 财务状态                        │
├─────────────────────────────────────┤
│ ┌─────────────────────────────────┐ │
│ │ 请选择状态              ▼      │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 选项：                              │
│ • 所有状态                          │
│ • 💰 盈利                          │
│ • ⚖️ 持平                          │
│ • 📉 亏损                          │
│ • ⏳ 待结算                        │
└─────────────────────────────────────┘
```

## 🎨 筛选器交互流程

### 筛选器状态变化流程
```
用户操作筛选器
        ↓
筛选器值更新
        ↓
触发筛选逻辑
        ↓
更新数据源
        ↓
重新渲染表格
        ↓
更新统计信息
```

### 筛选器联动逻辑
```
年份筛选变化 → 更新活动列表 → 更新交易账户选项
负责理事变化 → 更新活动列表 → 更新统计信息
活动状态变化 → 更新活动列表 → 更新财务状态分布
```

## 📱 响应式布局

### 桌面端 (≥992px)
```
┌─────────────────┐  ┌─────────────────────────────────────┐
│   筛选器区域    │  │            主内容区域               │
│   (固定宽度)    │  │          (自适应宽度)               │
└─────────────────┘  └─────────────────────────────────────┘
```

### 平板端 (768px - 991px)
```
┌─────────────────────────────────────────────────────────┐
│                  筛选器区域                             │
│              (全宽度，可折叠)                           │
├─────────────────────────────────────────────────────────┤
│                  主内容区域                             │
│                (全宽度)                                 │
└─────────────────────────────────────────────────────────┘
```

### 移动端 (<768px)
```
┌─────────────────────────────────────────────────────────┐
│               筛选器区域                                │
│           (全宽度，垂直排列)                            │
├─────────────────────────────────────────────────────────┤
│               主内容区域                                │
│              (全宽度)                                   │
└─────────────────────────────────────────────────────────┘
```

## 🔄 筛选器状态管理

### 筛选器状态树
```
EventFinancialFilterState
├── basicFilters
│   ├── selectedYear: string
│   ├── selectedBoardMember: string
│   ├── selectedEventStatus: string
│   └── selectedEventType: string
├── transactionFilters
│   ├── txAccountFilter: string
│   └── financialStatusFilter: string
└── pagination
    ├── currentPage: number
    ├── pageSize: number
    ├── transactionPage: number
    └── transactionPageSize: number
```

### 筛选器重置逻辑
```
重置按钮点击
        ↓
清空所有筛选器状态
        ↓
重置分页到第一页
        ↓
重新加载数据
        ↓
更新UI显示
```

## 🎯 预期用户体验

### 筛选前
- 显示所有活动数据
- 筛选器显示"所有"选项
- 统计信息显示总体数据

### 筛选中
- 实时更新筛选结果
- 显示筛选后的数据量
- 保持筛选器状态

### 筛选后
- 显示筛选后的活动列表
- 更新统计数据
- 提供清除筛选选项

---

**设计时间**: 2025-01-13  
**设计人员**: AI Assistant  
**版本**: 1.0.0  
**状态**: 📋 可视化设计完成
