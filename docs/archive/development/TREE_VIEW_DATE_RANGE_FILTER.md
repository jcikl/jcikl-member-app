# äº¤æ˜“ç®¡ç†æ ‘å½¢è§†å›¾ - æ—¥æœŸèŒƒå›´ç­›é€‰åŠŸèƒ½

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

ä¸ºäº¤æ˜“ç®¡ç†é¡µé¢çš„æ ‘å½¢è§†å›¾æ·»åŠ äº†**æ—¥æœŸèŒƒå›´ç­›é€‰**åŠŸèƒ½ï¼Œæ”¯æŒä¸‰ç§ç­›é€‰æ¨¡å¼ï¼š
- **å…¨éƒ¨**: æ˜¾ç¤ºæ‰€æœ‰äº¤æ˜“è®°å½•
- **è´¢å¹´ (Fiscal Year)**: 10æœˆ1æ—¥è‡³æ¬¡å¹´9æœˆ30æ—¥
- **è‡ªç„¶å¹´ (Calendar Year)**: 1æœˆ1æ—¥è‡³12æœˆ31æ—¥

## ğŸ“ å®ç°ä½ç½®

**æ–‡ä»¶**: `src/modules/finance/pages/TransactionManagementPage/index.tsx`

## ğŸ†• æ–°å¢åŠŸèƒ½

### 1. çŠ¶æ€å˜é‡

```typescript
// ç¬¬93-94è¡Œ
const [treeDateRangeType, setTreeDateRangeType] = useState<'fiscal' | 'calendar' | 'all'>('all');
const [treeSelectedYear, setTreeSelectedYear] = useState<string>(new Date().getFullYear().toString());
```

### 2. æ—¥æœŸè¿‡æ»¤é€»è¾‘

```typescript
// ç¬¬887-915è¡Œï¼šbuildTreeDataå‡½æ•°ä¸­
if (treeDateRangeType !== 'all') {
  const year = parseInt(treeSelectedYear);
  
  realTransactions = realTransactions.filter(transaction => {
    if (!transaction.transactionDate) return false;
    
    const txDate = new Date(transaction.transactionDate);
    const txYear = txDate.getFullYear();
    const txMonth = txDate.getMonth() + 1; // 1-12
    
    if (treeDateRangeType === 'fiscal') {
      // è´¢å¹´ï¼š10æœˆ1æ—¥ è‡³ æ¬¡å¹´9æœˆ30æ—¥
      if (txMonth >= 10) {
        return txYear === year;      // 10-12æœˆå±äºå½“å‰è´¢å¹´
      } else {
        return txYear === year + 1;  // 1-9æœˆå±äºä¸Šä¸€è´¢å¹´
      }
    } else if (treeDateRangeType === 'calendar') {
      // è‡ªç„¶å¹´ï¼š1æœˆ1æ—¥ è‡³ 12æœˆ31æ—¥
      return txYear === year;
    }
    
    return true;
  });
}
```

### 3. UIæ§ä»¶

```typescript
// ç¬¬1600-1640è¡Œï¼šæ ‘å½¢è§†å›¾ä¸­çš„æ—¥æœŸèŒƒå›´é€‰æ‹©å™¨
<Card style={{ marginBottom: 24 }} bordered={false}>
  <Space size="middle" wrap>
    <span style={{ fontWeight: 500 }}>æ—¥æœŸèŒƒå›´:</span>
    
    {/* æ—¥æœŸèŒƒå›´ç±»å‹é€‰æ‹© */}
    <Radio.Group 
      value={treeDateRangeType} 
      onChange={(e) => setTreeDateRangeType(e.target.value)}
      buttonStyle="solid"
    >
      <Radio.Button value="all">å…¨éƒ¨</Radio.Button>
      <Radio.Button value="fiscal">è´¢å¹´ (10æœˆ-9æœˆ)</Radio.Button>
      <Radio.Button value="calendar">è‡ªç„¶å¹´ (1æœˆ-12æœˆ)</Radio.Button>
    </Radio.Group>
    
    {/* å¹´ä»½é€‰æ‹©å™¨ï¼ˆå½“é€‰æ‹©è´¢å¹´æˆ–è‡ªç„¶å¹´æ—¶æ˜¾ç¤ºï¼‰ */}
    {treeDateRangeType !== 'all' && (
      <>
        <Select
          style={{ width: 120 }}
          value={treeSelectedYear}
          onChange={setTreeSelectedYear}
        >
          {Array.from({ length: 10 }, (_, i) => {
            const year = new Date().getFullYear() - i;
            return (
              <Option key={year} value={year.toString()}>
                {treeDateRangeType === 'fiscal' ? `FY${year}` : `${year}å¹´`}
              </Option>
            );
          })}
        </Select>
        
        {/* æ—¥æœŸèŒƒå›´æç¤º */}
        <Text type="secondary" style={{ fontSize: 12 }}>
          {treeDateRangeType === 'fiscal' 
            ? `${treeSelectedYear}-10-01 è‡³ ${parseInt(treeSelectedYear) + 1}-09-30`
            : `${treeSelectedYear}-01-01 è‡³ ${treeSelectedYear}-12-31`
          }
        </Text>
      </>
    )}
  </Space>
</Card>
```

## ğŸ“Š æ—¥æœŸèŒƒå›´è®¡ç®—é€»è¾‘

### è´¢å¹´ (Fiscal Year)

**å®šä¹‰**: FY2024 = 2024å¹´10æœˆ1æ—¥ è‡³ 2025å¹´9æœˆ30æ—¥

```
2024-10-01 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 2025-09-30
    â†‘                                      â†‘
 è´¢å¹´å¼€å§‹                               è´¢å¹´ç»“æŸ
```

**åˆ¤æ–­é€»è¾‘**:
```typescript
if (txMonth >= 10) {
  // 10-12æœˆå±äºå½“å‰è´¢å¹´
  // ä¾‹å¦‚ï¼š2024-11-15 å±äº FY2024
  return txYear === year;
} else {
  // 1-9æœˆå±äºä¸Šä¸€è´¢å¹´
  // ä¾‹å¦‚ï¼š2025-03-15 å±äº FY2024
  return txYear === year + 1;
}
```

**ç¤ºä¾‹**:
| äº¤æ˜“æ—¥æœŸ | æ‰€å±è´¢å¹´ | è¯´æ˜ |
|---------|---------|------|
| 2024-10-01 | FY2024 | è´¢å¹´å¼€å§‹æ—¥ |
| 2024-12-31 | FY2024 | 10-12æœˆå±äºå½“å‰è´¢å¹´ |
| 2025-01-01 | FY2024 | 1-9æœˆå±äºä¸Šä¸€è´¢å¹´ |
| 2025-09-30 | FY2024 | è´¢å¹´ç»“æŸæ—¥ |
| 2025-10-01 | FY2025 | ä¸‹ä¸€è´¢å¹´å¼€å§‹ |

### è‡ªç„¶å¹´ (Calendar Year)

**å®šä¹‰**: 2024å¹´ = 2024å¹´1æœˆ1æ—¥ è‡³ 2024å¹´12æœˆ31æ—¥

```
2024-01-01 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 2024-12-31
    â†‘                                      â†‘
è‡ªç„¶å¹´å¼€å§‹                             è‡ªç„¶å¹´ç»“æŸ
```

**åˆ¤æ–­é€»è¾‘**:
```typescript
return txYear === year;  // äº¤æ˜“å¹´ä»½ç­‰äºé€‰æ‹©çš„å¹´ä»½
```

**ç¤ºä¾‹**:
| äº¤æ˜“æ—¥æœŸ | æ‰€å±è‡ªç„¶å¹´ | è¯´æ˜ |
|---------|-----------|------|
| 2024-01-01 | 2024å¹´ | è‡ªç„¶å¹´å¼€å§‹æ—¥ |
| 2024-06-15 | 2024å¹´ | å¹´ä¸­ |
| 2024-12-31 | 2024å¹´ | è‡ªç„¶å¹´ç»“æŸæ—¥ |
| 2025-01-01 | 2025å¹´ | ä¸‹ä¸€è‡ªç„¶å¹´å¼€å§‹ |

## ğŸ¨ UIç•Œé¢

### é»˜è®¤çŠ¶æ€ï¼ˆå…¨éƒ¨ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ—¥æœŸèŒƒå›´: âšª å…¨éƒ¨ âš« è´¢å¹´(10æœˆ-9æœˆ) âšª è‡ªç„¶å¹´(1æœˆ-12æœˆ) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é€‰æ‹©è´¢å¹´
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ—¥æœŸèŒƒå›´: âšª å…¨éƒ¨ âš« è´¢å¹´(10æœˆ-9æœˆ) âšª è‡ªç„¶å¹´(1æœˆ-12æœˆ)              â”‚
â”‚                                                                   â”‚
â”‚           [FY2024 â–¼]  2024-10-01 è‡³ 2025-09-30                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é€‰æ‹©è‡ªç„¶å¹´
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ—¥æœŸèŒƒå›´: âšª å…¨éƒ¨ âšª è´¢å¹´(10æœˆ-9æœˆ) âš« è‡ªç„¶å¹´(1æœˆ-12æœˆ)              â”‚
â”‚                                                                   â”‚
â”‚           [2024å¹´ â–¼]  2024-01-01 è‡³ 2024-12-31                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ äº¤äº’æµç¨‹

### åœºæ™¯1: æŸ¥çœ‹FY2024çš„äº¤æ˜“
```
ç”¨æˆ·ç‚¹å‡»"æ ‘å½¢è§†å›¾"æ ‡ç­¾
    â†“
ç‚¹å‡»"è´¢å¹´ (10æœˆ-9æœˆ)"å•é€‰æŒ‰é’®
    â†“
è‡ªåŠ¨æ˜¾ç¤ºå¹´ä»½é€‰æ‹©å™¨ï¼ˆé»˜è®¤å½“å‰å¹´ä»½ï¼‰
    â†“
é€‰æ‹©"FY2024"
    â†“
æ ‘å½¢è§†å›¾åªæ˜¾ç¤º2024-10-01è‡³2025-09-30çš„äº¤æ˜“
    â†“
æ ‘å½¢ç»“æ„è‡ªåŠ¨æ›´æ–°ï¼Œæ˜¾ç¤ºè¯¥æœŸé—´çš„æ”¶å…¥å’Œæ”¯å‡º
```

### åœºæ™¯2: åˆ‡æ¢åˆ°è‡ªç„¶å¹´2024
```
å½“å‰æ˜¾ç¤ºFY2024
    â†“
ç‚¹å‡»"è‡ªç„¶å¹´ (1æœˆ-12æœˆ)"å•é€‰æŒ‰é’®
    â†“
å¹´ä»½æ˜¾ç¤ºè‡ªåŠ¨æ›´æ–°ä¸º"2024å¹´"
    â†“
æ—¥æœŸèŒƒå›´æç¤ºæ›´æ–°ä¸º"2024-01-01 è‡³ 2024-12-31"
    â†“
æ ‘å½¢è§†å›¾åªæ˜¾ç¤º2024å¹´1æœˆè‡³12æœˆçš„äº¤æ˜“
```

### åœºæ™¯3: åˆ‡æ¢å›å…¨éƒ¨
```
å½“å‰æ˜¾ç¤ºFY2024æˆ–2024å¹´
    â†“
ç‚¹å‡»"å…¨éƒ¨"å•é€‰æŒ‰é’®
    â†“
å¹´ä»½é€‰æ‹©å™¨å’Œæ—¥æœŸèŒƒå›´æç¤ºè‡ªåŠ¨éšè—
    â†“
æ ‘å½¢è§†å›¾æ˜¾ç¤ºæ‰€æœ‰äº¤æ˜“è®°å½•
```

## ğŸ“‹ å¹´ä»½åˆ—è¡¨

æä¾›æœ€è¿‘10å¹´çš„å¹´ä»½é€‰æ‹©ï¼š

```typescript
Array.from({ length: 10 }, (_, i) => {
  const year = new Date().getFullYear() - i;
  return year;  // ä¾‹å¦‚ï¼š2024, 2023, 2022, ..., 2015
});
```

**å¹´ä»½åˆ—è¡¨ç¤ºä¾‹**ï¼ˆå‡è®¾å½“å‰æ˜¯2024å¹´ï¼‰:
```
FY2024 / 2024å¹´
FY2023 / 2023å¹´
FY2022 / 2022å¹´
FY2021 / 2021å¹´
FY2020 / 2020å¹´
FY2019 / 2019å¹´
FY2018 / 2018å¹´
FY2017 / 2017å¹´
FY2016 / 2016å¹´
FY2015 / 2015å¹´
```

## ğŸ” æ•°æ®æµ

```
ç”¨æˆ·é€‰æ‹©æ—¥æœŸèŒƒå›´ç±»å‹å’Œå¹´ä»½
    â†“
setTreeDateRangeType(type)
setTreeSelectedYear(year)
    â†“
ã€è§¦å‘useEffectã€‘
    â†“
buildTreeData()æ‰§è¡Œ
    â†“
æ ¹æ®treeDateRangeTypeå’ŒtreeSelectedYearè¿‡æ»¤äº¤æ˜“ï¼š
  - 'all': ä¸è¿‡æ»¤ï¼Œæ˜¾ç¤ºæ‰€æœ‰
  - 'fiscal': è´¢å¹´é€»è¾‘è¿‡æ»¤
  - 'calendar': è‡ªç„¶å¹´é€»è¾‘è¿‡æ»¤
    â†“
è¿‡æ»¤åçš„realTransactionsè¿›å…¥åˆ†ç»„é€»è¾‘
    â†“
æ„å»ºæ ‘èŠ‚ç‚¹ï¼ˆæ”¶å…¥/æ”¯å‡º â†’ ç±»åˆ« â†’ äºŒæ¬¡åˆ†ç±»ï¼‰
    â†“
setTreeData(...)
    â†“
Treeç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œæ˜¾ç¤ºè¿‡æ»¤åçš„æ•°æ®
```

## ğŸ’¡ ç‰¹æ®Šå¤„ç†

### 1. æ²¡æœ‰äº¤æ˜“æ—¥æœŸçš„è®°å½•
```typescript
if (!transaction.transactionDate) return false;  // æ’é™¤æ²¡æœ‰æ—¥æœŸçš„äº¤æ˜“
```

### 2. æ—¥æœŸæ ¼å¼è½¬æ¢
```typescript
const txDate = new Date(transaction.transactionDate);
const txYear = txDate.getFullYear();
const txMonth = txDate.getMonth() + 1;  // æ³¨æ„ï¼šgetMonth()è¿”å›0-11
```

### 3. è´¢å¹´è·¨å¹´åˆ¤æ–­
```typescript
// å…³é”®é€»è¾‘ï¼šæœˆä»½â‰¥10å±äºå½“å‰è´¢å¹´ï¼Œ<10å±äºä¸Šä¸€è´¢å¹´
if (txMonth >= 10) {
  return txYear === year;      // 2024-10åˆ°2024-12 â†’ FY2024
} else {
  return txYear === year + 1;  // 2025-01åˆ°2025-09 â†’ FY2024
}
```

### 4. åŠ¨æ€UIæ˜¾ç¤º
```typescript
{treeDateRangeType !== 'all' && (
  // åªæœ‰åœ¨é€‰æ‹©è´¢å¹´æˆ–è‡ªç„¶å¹´æ—¶æ‰æ˜¾ç¤ºå¹´ä»½é€‰æ‹©å™¨
  <Select>...</Select>
)}
```

## ğŸ¨ è§†è§‰è®¾è®¡

### æŒ‰é’®æ ·å¼
- **buttonStyle="solid"**: é€‰ä¸­çš„æŒ‰é’®æœ‰å®å¿ƒèƒŒæ™¯
- **æœªé€‰ä¸­**: ç™½è‰²èƒŒæ™¯ï¼Œç°è‰²è¾¹æ¡†
- **é€‰ä¸­**: è“è‰²èƒŒæ™¯ï¼Œç™½è‰²æ–‡å­—

### æ—¥æœŸèŒƒå›´æç¤º
- **å­—ä½“å¤§å°**: 12px
- **é¢œè‰²**: type="secondary" (ç°è‰²)
- **æ ¼å¼**: YYYY-MM-DD è‡³ YYYY-MM-DD

### å¸ƒå±€
```
<Space size="middle" wrap>
  æ ‡ç­¾  |  å•é€‰æŒ‰é’®ç»„  |  å¹´ä»½é€‰æ‹©å™¨  |  æ—¥æœŸæç¤º
</Space>
```

## âœ¨ åŠŸèƒ½äº®ç‚¹

### 1. çµæ´»çš„æ—¥æœŸç­›é€‰
- æ”¯æŒè´¢å¹´è§†è§’ï¼ˆé€‚åˆè´¢åŠ¡æŠ¥å‘Šï¼‰
- æ”¯æŒè‡ªç„¶å¹´è§†è§’ï¼ˆé€‚åˆå¹´åº¦æ€»ç»“ï¼‰
- å¯æŸ¥çœ‹å…¨éƒ¨å†å²è®°å½•

### 2. ç›´è§‚çš„UI
- å•é€‰æŒ‰é’®æ¸…æ™°è¡¨ç¤ºä¸‰ç§æ¨¡å¼
- å¹´ä»½ä¸‹æ‹‰èœå•æ–¹ä¾¿é€‰æ‹©
- å®æ—¶æ˜¾ç¤ºæ—¥æœŸèŒƒå›´æç¤º

### 3. æ™ºèƒ½äº¤äº’
- åˆ‡æ¢æ—¥æœŸèŒƒå›´ç±»å‹æ—¶ï¼Œå¹´ä»½é€‰æ‹©å™¨è‡ªåŠ¨æ˜¾ç¤º/éšè—
- åˆ‡æ¢è´¢å¹´/è‡ªç„¶å¹´æ—¶ï¼Œå¹´ä»½æ ‡ç­¾è‡ªåŠ¨æ›´æ–°ï¼ˆFY2024 vs 2024å¹´ï¼‰
- æ—¥æœŸèŒƒå›´æç¤ºå®æ—¶æ›´æ–°

### 4. å®æ—¶æ›´æ–°
- é€‰æ‹©åç«‹å³é‡æ–°æ„å»ºæ ‘å½¢æ•°æ®
- é‡‘é¢æ±‡æ€»è‡ªåŠ¨é‡æ–°è®¡ç®—
- æ ‘èŠ‚ç‚¹æ•°é‡å®æ—¶æ›´æ–°

### 5. é»˜è®¤å€¼åˆç†
- é»˜è®¤æ˜¾ç¤º"å…¨éƒ¨"
- é»˜è®¤å¹´ä»½ä¸ºå½“å‰å¹´ä»½
- æä¾›æœ€è¿‘10å¹´çš„é€‰æ‹©

## ğŸ“Š ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: å¹´åº¦è´¢åŠ¡æŠ¥å‘Š
```
è´¢åŠ¡ä¸»ç®¡éœ€è¦å‡†å¤‡FY2024çš„è´¢åŠ¡æŠ¥å‘Š
    â†“
åˆ‡æ¢åˆ°æ ‘å½¢è§†å›¾
    â†“
é€‰æ‹©"è´¢å¹´ (10æœˆ-9æœˆ)"
    â†“
é€‰æ‹©"FY2024"
    â†“
æŸ¥çœ‹æ”¶å…¥æ ‘ï¼š
  - ä¼šå‘˜è´¹ç”¨ (50) RM 24,000.00
  - æ´»åŠ¨è´¢åŠ¡ (12) RM 15,000.00
  - æ—¥å¸¸è´¦æˆ· (30) RM 8,000.00
    â†“
æŸ¥çœ‹æ”¯å‡ºæ ‘ï¼š
  - æ´»åŠ¨è´¢åŠ¡ (10) RM 8,000.00
  - æ—¥å¸¸è´¦æˆ· (40) RM 12,000.00
    â†“
å¿«é€Ÿäº†è§£æ•´ä¸ªè´¢å¹´çš„æ”¶æ”¯æƒ…å†µ
```

### åœºæ™¯2: å¯¹æ¯”ä¸åŒå¹´ä»½
```
ç”¨æˆ·æƒ³å¯¹æ¯”FY2023å’ŒFY2024çš„æ”¶æ”¯
    â†“
é€‰æ‹©"è´¢å¹´"å’Œ"FY2024"ï¼Œè®°å½•æ•°æ®
    â†“
åˆ‡æ¢åˆ°"FY2023"
    â†“
å¯¹æ¯”ä¸¤ä¸ªè´¢å¹´çš„æ ‘å½¢ç»“æ„
    â†“
å‘ç°2024å¹´ä¼šå‘˜è´¹æ”¶å…¥å¢é•¿20%
```

### åœºæ™¯3: è‡ªç„¶å¹´åº¦ç»Ÿè®¡
```
éœ€è¦å‡†å¤‡2024å¹´çš„å¹´åº¦æ€»ç»“
    â†“
é€‰æ‹©"è‡ªç„¶å¹´ (1æœˆ-12æœˆ)"
    â†“
é€‰æ‹©"2024å¹´"
    â†“
æŸ¥çœ‹2024å¹´1æœˆè‡³12æœˆçš„æ‰€æœ‰äº¤æ˜“
    â†“
ç»Ÿè®¡å…¨å¹´æ”¶æ”¯æ•°æ®
```

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. æ—¥æœŸå¿…é¡»æœ‰æ•ˆ
- åªç­›é€‰æœ‰`transactionDate`å­—æ®µçš„äº¤æ˜“
- æ— æ—¥æœŸçš„äº¤æ˜“ä¼šè¢«æ’é™¤

### 2. è´¢å¹´é€»è¾‘å‡†ç¡®æ€§
- ç¡®ä¿ç†è§£è´¢å¹´è·¨å¹´é€»è¾‘
- 10-12æœˆå±äºå½“å‰è´¢å¹´
- 1-9æœˆå±äºä¸Šä¸€è´¢å¹´

### 3. æ•°æ®æ›´æ–°
- åˆ‡æ¢æ—¥æœŸèŒƒå›´åæ ‘å½¢æ•°æ®ä¼šé‡æ–°è®¡ç®—
- å¯èƒ½éœ€è¦å‡ ç§’é’Ÿå¤„ç†å¤§é‡æ•°æ®

### 4. å¹´ä»½èŒƒå›´
- ç›®å‰æä¾›æœ€è¿‘10å¹´
- å¦‚éœ€æ›´é•¿å†å²è®°å½•ï¼Œå¯è°ƒæ•´`Array.from({ length: 10 }...)`

## ğŸ”§ é…ç½®é€‰é¡¹

### ä¿®æ”¹å¹´ä»½èŒƒå›´
```typescript
// å½“å‰ï¼šæœ€è¿‘10å¹´
Array.from({ length: 10 }, (_, i) => {...})

// æ”¹ä¸ºæœ€è¿‘20å¹´
Array.from({ length: 20 }, (_, i) => {...})
```

### ä¿®æ”¹é»˜è®¤æ—¥æœŸèŒƒå›´
```typescript
// å½“å‰ï¼šé»˜è®¤"å…¨éƒ¨"
const [treeDateRangeType, setTreeDateRangeType] = useState<'fiscal' | 'calendar' | 'all'>('all');

// æ”¹ä¸ºé»˜è®¤"è´¢å¹´"
const [treeDateRangeType, setTreeDateRangeType] = useState<'fiscal' | 'calendar' | 'all'>('fiscal');
```

### ä¿®æ”¹é»˜è®¤å¹´ä»½
```typescript
// å½“å‰ï¼šé»˜è®¤å½“å‰å¹´ä»½
const [treeSelectedYear, setTreeSelectedYear] = useState<string>(
  new Date().getFullYear().toString()
);

// æ”¹ä¸ºé»˜è®¤å»å¹´
const [treeSelectedYear, setTreeSelectedYear] = useState<string>(
  (new Date().getFullYear() - 1).toString()
);
```

## ğŸš€ æœªæ¥ä¼˜åŒ–å»ºè®®

1. **æ—¥æœŸèŒƒå›´é¢„è®¾**
   - æ·»åŠ "æœ€è¿‘3ä¸ªæœˆ"ã€"æœ€è¿‘6ä¸ªæœˆ"ç­‰å¿«æ·é€‰é¡¹
   - æ·»åŠ "ä¸Šä¸€è´¢å¹´"ã€"æœ¬è´¢å¹´"å¿«æ·æŒ‰é’®

2. **è‡ªå®šä¹‰æ—¥æœŸèŒƒå›´**
   - æ·»åŠ "è‡ªå®šä¹‰"é€‰é¡¹
   - å…è®¸ç”¨æˆ·é€‰æ‹©ä»»æ„å¼€å§‹å’Œç»“æŸæ—¥æœŸ

3. **å¯¹æ¯”æ¨¡å¼**
   - å…è®¸åŒæ—¶æ˜¾ç¤ºä¸¤ä¸ªå¹´ä»½çš„å¯¹æ¯”
   - å¹¶æ’å±•ç¤ºä¸¤ä¸ªæ ‘å½¢ç»“æ„

4. **æ•°æ®å¯¼å‡º**
   - æ·»åŠ "å¯¼å‡ºå½“å‰è§†å›¾"æŒ‰é’®
   - å¯¼å‡ºExcelæ—¶åŒ…å«æ—¥æœŸèŒƒå›´ä¿¡æ¯

5. **æ€§èƒ½ä¼˜åŒ–**
   - å¤§é‡äº¤æ˜“æ—¶ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨
   - æ·»åŠ åŠ è½½çŠ¶æ€æŒ‡ç¤ºå™¨

## ğŸ“š ç›¸å…³æ–‡ä»¶

- **ä¸»æ–‡ä»¶**: `src/modules/finance/pages/TransactionManagementPage/index.tsx`
- **æ ‘å½¢è§†å›¾æ–‡æ¡£**: `TRANSACTION_TREE_VIEW_FEATURE.md`
- **éªŒè¯æ¸…å•**: `TREE_VIEW_VERIFICATION_CHECKLIST.md`

## æ€»ç»“

âœ… **å·²å®ç°**:
- ä¸‰ç§æ—¥æœŸèŒƒå›´ç­›é€‰æ¨¡å¼ï¼ˆå…¨éƒ¨ã€è´¢å¹´ã€è‡ªç„¶å¹´ï¼‰
- å¹´ä»½ä¸‹æ‹‰é€‰æ‹©å™¨ï¼ˆæœ€è¿‘10å¹´ï¼‰
- å®æ—¶æ—¥æœŸèŒƒå›´æç¤º
- åŠ¨æ€æ ‘å½¢æ•°æ®æ›´æ–°
- æ™ºèƒ½UIæ˜¾ç¤º/éšè—

âœ… **å‡†ç¡®çš„é€»è¾‘**:
- è´¢å¹´è·¨å¹´è®¡ç®—æ­£ç¡®
- è‡ªç„¶å¹´èŒƒå›´å‡†ç¡®
- æ—¥æœŸè¿‡æ»¤ç²¾ç¡®

ğŸ‰ **ç”¨æˆ·ä»·å€¼**:
- çµæ´»çš„è´¢åŠ¡æŠ¥å‘Šè§†è§’
- å¿«é€ŸæŸ¥çœ‹ç‰¹å®šæœŸé—´çš„æ”¶æ”¯
- ä¾¿äºå¹´åº¦å¯¹æ¯”å’Œåˆ†æ
- ç¬¦åˆè´¢åŠ¡ç®¡ç†ä¹ æƒ¯

