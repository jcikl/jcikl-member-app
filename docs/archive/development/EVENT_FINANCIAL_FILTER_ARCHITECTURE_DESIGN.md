# æ´»åŠ¨è´¢åŠ¡æ ‡ç­¾é¡µç­›é€‰æ¶æ„è®¾è®¡

## ğŸ“‹ è®¾è®¡æ¦‚è¿°

å‚è€ƒè´¢åŠ¡æ¦‚è§ˆé¡µé¢ä¼šå‘˜è´¹ç”¨æ ‡ç­¾é¡µçš„ç­›é€‰æ¶æ„ï¼Œä¸ºæ´»åŠ¨è´¢åŠ¡æ ‡ç­¾é¡µæ·»åŠ å®Œæ•´çš„ç­›é€‰åŠŸèƒ½ï¼Œæä¾›æ›´å¥½çš„æ•°æ®ç®¡ç†å’Œç”¨æˆ·ä½“éªŒã€‚

## ğŸ¯ å‚è€ƒæ¶æ„åˆ†æ

### ä¼šå‘˜è´¹ç”¨æ ‡ç­¾é¡µç­›é€‰æ¶æ„ç‰¹ç‚¹ï¼š

1. **å·¦ä¾§ç‹¬ç«‹ç­›é€‰å¡ç‰‡** - å›ºå®šåœ¨å·¦ä¾§ï¼Œç²˜æ€§å®šä½
2. **å¤šç»´åº¦ç­›é€‰** - å¹´ä»½ã€ä¼šå‘˜ç±»åˆ«ã€ä»˜æ¬¾çŠ¶æ€ã€äº¤æ˜“è´¦æˆ·
3. **åŒæ ‡ç­¾é¡µç»“æ„** - ä¼šå‘˜è´¹ç”¨è¡¨æ ¼ + äº¤æ˜“è®°å½•è¡¨æ ¼
4. **å“åº”å¼å¸ƒå±€** - å·¦ä¾§ç­›é€‰ + å³ä¾§å†…å®¹åŒºåŸŸ
5. **å®æ—¶ç­›é€‰** - ç­›é€‰æ¡ä»¶å˜åŒ–ç«‹å³æ›´æ–°æ•°æ®

## ğŸ”§ æ´»åŠ¨è´¢åŠ¡æ ‡ç­¾é¡µç­›é€‰è®¾è®¡

### 1. æ•´ä½“å¸ƒå±€æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ´»åŠ¨è´¢åŠ¡ç®¡ç†é¡µé¢                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š ç»Ÿè®¡å¡ç‰‡åŒºåŸŸ                                                 â”‚
â”‚  [æ´»åŠ¨æ”¶å…¥] [æ´»åŠ¨æ”¯å‡º] [å‡€æ”¶ç›Š] [å¾…å¤„ç†]                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   ğŸ¯ æ´»åŠ¨ç­›é€‰   â”‚  â”‚         ä¸»ä½“å†…å®¹åŒºåŸŸ                â”‚   â”‚
â”‚  â”‚                 â”‚  â”‚                                     â”‚   â”‚
â”‚  â”‚ ğŸ“… å¹´ä»½ç­›é€‰     â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚ [è´¢å¹´ä¸‹æ‹‰]      â”‚  â”‚  â”‚       æ ‡ç­¾é¡µå¯¼èˆª                â”‚ â”‚   â”‚
â”‚  â”‚                 â”‚  â”‚  â”‚ [æ´»åŠ¨åˆ—è¡¨] [äº¤æ˜“è®°å½•]           â”‚ â”‚   â”‚
â”‚  â”‚ ğŸ¢ è´Ÿè´£ç†äº‹     â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚ [ç†äº‹ä¸‹æ‹‰]      â”‚  â”‚                                     â”‚   â”‚
â”‚  â”‚                 â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚ ğŸ“ˆ æ´»åŠ¨çŠ¶æ€     â”‚  â”‚  â”‚       æ•°æ®è¡¨æ ¼åŒºåŸŸ              â”‚ â”‚   â”‚
â”‚  â”‚ [çŠ¶æ€ç­›é€‰]      â”‚  â”‚  â”‚                                 â”‚ â”‚   â”‚
â”‚  â”‚                 â”‚  â”‚  â”‚  [è¡¨æ ¼æ•°æ®]                     â”‚ â”‚   â”‚
â”‚  â”‚ ğŸ­ æ´»åŠ¨ç±»å‹     â”‚  â”‚  â”‚                                 â”‚ â”‚   â”‚
â”‚  â”‚ [ç±»å‹ç­›é€‰]      â”‚  â”‚  â”‚                                 â”‚ â”‚   â”‚
â”‚  â”‚                 â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚ ğŸ¦ äº¤æ˜“è´¦æˆ·     â”‚  â”‚                                     â”‚   â”‚
â”‚  â”‚ [è´¦æˆ·ç­›é€‰]      â”‚  â”‚                                     â”‚   â”‚
â”‚  â”‚ (ä»…äº¤æ˜“è®°å½•)    â”‚  â”‚                                     â”‚   â”‚
â”‚  â”‚                 â”‚  â”‚                                     â”‚   â”‚
â”‚  â”‚ ğŸ“Š è´¢åŠ¡çŠ¶æ€     â”‚  â”‚                                     â”‚   â”‚
â”‚  â”‚ [ç›ˆäºç­›é€‰]      â”‚  â”‚                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ç­›é€‰ç»´åº¦è¯¦ç»†è®¾è®¡

#### ğŸ“… å¹´ä»½ç­›é€‰
```typescript
interface YearFilter {
  options: [
    { value: 'FY2025', label: '2025è´¢å¹´' },
    { value: 'FY2024', label: '2024è´¢å¹´' },
    { value: 'FY2023', label: '2023è´¢å¹´' },
    { value: 'all', label: 'æ‰€æœ‰å¹´ä»½' }
  ]
}
```

#### ğŸ¢ è´Ÿè´£ç†äº‹ç­›é€‰
```typescript
interface BoardMemberFilter {
  options: [
    { value: 'all', label: 'æ‰€æœ‰ç†äº‹' },
    { value: 'president', label: 'ä¼šé•¿' },
    { value: 'vice-president', label: 'å‰¯ä¼šé•¿' },
    { value: 'secretary', label: 'ç§˜ä¹¦é•¿' },
    { value: 'treasurer', label: 'è´¢æ”¿' },
    { value: 'director', label: 'ç†äº‹' }
  ]
}
```

#### ğŸ“ˆ æ´»åŠ¨çŠ¶æ€ç­›é€‰
```typescript
interface EventStatusFilter {
  options: [
    { value: 'all', label: 'æ‰€æœ‰çŠ¶æ€' },
    { value: 'planning', label: 'ğŸ”„ ç­–åˆ’ä¸­' },
    { value: 'active', label: 'âœ… è¿›è¡Œä¸­' },
    { value: 'completed', label: 'âœ… å·²å®Œæˆ' },
    { value: 'cancelled', label: 'âŒ å·²å–æ¶ˆ' }
  ]
}
```

#### ğŸ­ æ´»åŠ¨ç±»å‹ç­›é€‰
```typescript
interface EventTypeFilter {
  options: [
    { value: 'all', label: 'æ‰€æœ‰ç±»å‹' },
    { value: 'training', label: 'ğŸ“š åŸ¹è®­æ´»åŠ¨' },
    { value: 'networking', label: 'ğŸ¤ è”è°Šæ´»åŠ¨' },
    { value: 'conference', label: 'ğŸ›ï¸ ä¼šè®®æ´»åŠ¨' },
    { value: 'social', label: 'ğŸ‰ ç¤¾äº¤æ´»åŠ¨' },
    { value: 'charity', label: 'â¤ï¸ æ…ˆå–„æ´»åŠ¨' }
  ]
}
```

#### ğŸ¦ äº¤æ˜“è´¦æˆ·ç­›é€‰ï¼ˆä»…äº¤æ˜“è®°å½•æ ‡ç­¾é¡µï¼‰
```typescript
interface TransactionAccountFilter {
  options: [
    { value: 'all', label: 'æ‰€æœ‰æ´»åŠ¨' },
    { value: 'uncategorized', label: 'æœªåˆ†ç±»äº¤æ˜“' },
    { value: 'year-2025', label: '2025å¹´äº¤æ˜“' },
    { value: 'year-2024', label: '2024å¹´äº¤æ˜“' },
    // åŠ¨æ€åŠ è½½æ´»åŠ¨åç§°
    ...financeEvents.map(event => ({
      value: event.eventName,
      label: event.eventName
    }))
  ]
}
```

#### ğŸ“Š è´¢åŠ¡çŠ¶æ€ç­›é€‰
```typescript
interface FinancialStatusFilter {
  options: [
    { value: 'all', label: 'æ‰€æœ‰çŠ¶æ€' },
    { value: 'profitable', label: 'ğŸ’° ç›ˆåˆ©' },
    { value: 'break-even', label: 'âš–ï¸ æŒå¹³' },
    { value: 'loss', label: 'ğŸ“‰ äºæŸ' },
    { value: 'pending', label: 'â³ å¾…ç»“ç®—' }
  ]
}
```

### 3. çŠ¶æ€ç®¡ç†è®¾è®¡

```typescript
interface EventFinancialFilterState {
  // åŸºç¡€ç­›é€‰
  selectedYear: string;
  selectedBoardMember: string;
  selectedEventStatus: string;
  selectedEventType: string;
  
  // äº¤æ˜“è®°å½•ç­›é€‰
  txAccountFilter: string;
  financialStatusFilter: string;
  
  // åˆ†é¡µçŠ¶æ€
  currentPage: number;
  pageSize: number;
  transactionPage: number;
  transactionPageSize: number;
}
```

### 4. ç­›é€‰é€»è¾‘è®¾è®¡

#### æ´»åŠ¨åˆ—è¡¨ç­›é€‰é€»è¾‘
```typescript
const applyEventFilters = (events: EventFinancialSummary[]) => {
  return events.filter(event => {
    // å¹´ä»½ç­›é€‰
    if (selectedYear !== 'all' && event.fiscalYear !== selectedYear) {
      return false;
    }
    
    // è´Ÿè´£ç†äº‹ç­›é€‰
    if (selectedBoardMember !== 'all' && event.boardMember !== selectedBoardMember) {
      return false;
    }
    
    // æ´»åŠ¨çŠ¶æ€ç­›é€‰
    if (selectedEventStatus !== 'all' && event.status !== selectedEventStatus) {
      return false;
    }
    
    // æ´»åŠ¨ç±»å‹ç­›é€‰ï¼ˆåŸºäºæ´»åŠ¨åç§°æˆ–ç±»å‹å­—æ®µï¼‰
    if (selectedEventType !== 'all' && !isEventTypeMatch(event, selectedEventType)) {
      return false;
    }
    
    return true;
  });
};
```

#### äº¤æ˜“è®°å½•ç­›é€‰é€»è¾‘
```typescript
const applyTransactionFilters = (transactions: Transaction[]) => {
  return transactions.filter(transaction => {
    // äº¤æ˜“è´¦æˆ·ç­›é€‰
    if (txAccountFilter !== 'all') {
      if (txAccountFilter === 'uncategorized' && transaction.txAccount) {
        return false;
      }
      if (txAccountFilter.startsWith('year-')) {
        const year = txAccountFilter.replace('year-', '');
        if (!transaction.txAccount?.startsWith(`${year}-`)) {
          return false;
        }
      }
      if (transaction.txAccount !== txAccountFilter) {
        return false;
      }
    }
    
    // è´¢åŠ¡çŠ¶æ€ç­›é€‰ï¼ˆåŸºäºæ”¶å…¥æ”¯å‡ºè®¡ç®—ï¼‰
    if (financialStatusFilter !== 'all') {
      const eventFinancial = getEventFinancialByTransaction(transaction);
      if (!matchesFinancialStatus(eventFinancial, financialStatusFilter)) {
        return false;
      }
    }
    
    return true;
  });
};
```

### 5. UIç»„ä»¶è®¾è®¡

#### ç­›é€‰å¡ç‰‡ç»„ä»¶
```jsx
<Card 
  title="ğŸ¯ æ´»åŠ¨ç­›é€‰" 
  style={{ position: 'sticky', top: 16 }}
  className="event-filter-card"
>
  {/* å¹´ä»½ç­›é€‰ */}
  <div style={{ marginBottom: 16 }}>
    <div style={{ marginBottom: 8, fontWeight: 600, fontSize: 14 }}>
      ğŸ“… å¹´ä»½
    </div>
    <Select
      style={{ width: '100%' }}
      value={selectedYear}
      onChange={setSelectedYear}
      placeholder="é€‰æ‹©å¹´ä»½"
    >
      <Option value="all">æ‰€æœ‰å¹´ä»½</Option>
      <Option value="FY2025">2025è´¢å¹´</Option>
      <Option value="FY2024">2024è´¢å¹´</Option>
    </Select>
  </div>
  
  {/* è´Ÿè´£ç†äº‹ç­›é€‰ */}
  <div style={{ marginBottom: 16 }}>
    <div style={{ marginBottom: 8, fontWeight: 600, fontSize: 14 }}>
      ğŸ¢ è´Ÿè´£ç†äº‹
    </div>
    <Select
      style={{ width: '100%' }}
      value={selectedBoardMember}
      onChange={setSelectedBoardMember}
      placeholder="é€‰æ‹©è´Ÿè´£ç†äº‹"
    >
      <Option value="all">æ‰€æœ‰ç†äº‹</Option>
      <Option value="president">ä¼šé•¿</Option>
      <Option value="vice-president">å‰¯ä¼šé•¿</Option>
    </Select>
  </div>
  
  {/* å…¶ä»–ç­›é€‰å™¨... */}
</Card>
```

### 6. å“åº”å¼è®¾è®¡

```css
.event-financial-page {
  .filter-sidebar {
    @media (max-width: 992px) {
      position: static;
      margin-bottom: 16px;
    }
  }
  
  .main-content {
    @media (max-width: 992px) {
      margin-left: 0;
    }
  }
}
```

### 7. æ€§èƒ½ä¼˜åŒ–

1. **é˜²æŠ–å¤„ç†** - ç­›é€‰æ¡ä»¶å˜åŒ–æ—¶ä½¿ç”¨é˜²æŠ–é¿å…é¢‘ç¹è¯·æ±‚
2. **ç¼“å­˜æœºåˆ¶** - ç¼“å­˜ç­›é€‰ç»“æœå’Œç»Ÿè®¡æ•°æ®
3. **æ‡’åŠ è½½** - å¤§å‹ç­›é€‰åˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨
4. **åˆ†é¡µä¼˜åŒ–** - ç­›é€‰åé‡ç½®åˆ°ç¬¬ä¸€é¡µ

### 8. ç”¨æˆ·ä½“éªŒå¢å¼º

1. **ç­›é€‰çŠ¶æ€ä¿å­˜** - è®°ä½ç”¨æˆ·çš„ç­›é€‰åå¥½
2. **å¿«é€Ÿç­›é€‰** - æä¾›å¸¸ç”¨ç­›é€‰ç»„åˆçš„å¿«é€ŸæŒ‰é’®
3. **ç­›é€‰ç»“æœæç¤º** - æ˜¾ç¤ºå½“å‰ç­›é€‰æ¡ä»¶ä¸‹çš„ç»“æœæ•°é‡
4. **ä¸€é”®æ¸…é™¤** - æä¾›æ¸…é™¤æ‰€æœ‰ç­›é€‰æ¡ä»¶çš„æŒ‰é’®

## ğŸš€ å®ç°ä¼˜å…ˆçº§

### Phase 1: åŸºç¡€ç­›é€‰
- [ ] å¹´ä»½ç­›é€‰
- [ ] è´Ÿè´£ç†äº‹ç­›é€‰
- [ ] æ´»åŠ¨çŠ¶æ€ç­›é€‰

### Phase 2: é«˜çº§ç­›é€‰
- [ ] æ´»åŠ¨ç±»å‹ç­›é€‰
- [ ] è´¢åŠ¡çŠ¶æ€ç­›é€‰
- [ ] äº¤æ˜“è´¦æˆ·ç­›é€‰

### Phase 3: ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- [ ] ç­›é€‰çŠ¶æ€ä¿å­˜
- [ ] å¿«é€Ÿç­›é€‰æŒ‰é’®
- [ ] ç­›é€‰ç»“æœç»Ÿè®¡

## ğŸ“Š é¢„æœŸæ•ˆæœ

1. **æå‡æ•°æ®æŸ¥æ‰¾æ•ˆç‡** - ç”¨æˆ·å¯å¿«é€Ÿå®šä½ç‰¹å®šæ´»åŠ¨æˆ–äº¤æ˜“
2. **æ”¹å–„ç”¨æˆ·ä½“éªŒ** - ç›´è§‚çš„ç­›é€‰ç•Œé¢ï¼Œé™ä½å­¦ä¹ æˆæœ¬
3. **å¢å¼ºæ•°æ®åˆ†æèƒ½åŠ›** - å¤šç»´åº¦ç­›é€‰æ”¯æŒæ›´æ·±å…¥çš„æ•°æ®åˆ†æ
4. **ä¿æŒç•Œé¢ä¸€è‡´æ€§** - ä¸ä¼šå‘˜è´¹ç”¨æ ‡ç­¾é¡µä¿æŒç›¸åŒçš„è®¾è®¡è¯­è¨€

---

**è®¾è®¡æ—¶é—´**: 2025-01-13  
**è®¾è®¡äººå‘˜**: AI Assistant  
**ç‰ˆæœ¬**: 1.0.0  
**çŠ¶æ€**: ğŸ“‹ è®¾è®¡å®Œæˆï¼Œå¾…å®ç°
